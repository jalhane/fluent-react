## 1장은 리액트 등장 배경 및 웹 프론트엔드의 역사를 간략하게 소개해줌

리액트가 등장하기 전 프론트엔드 개발이 해결해야 하는 문제들은 다음과 같았다:

- 반응성이 높은 앱을 어떻게 만들 것인가?
- 대규모 서비스의 안정성을 어떻게 높일지
- 돔을 지속적으로 조작하는 것은 너무 비용이 높다 (리플로우, 리페인트)
- 이렇다할 표준 해결책의 부재

이런 문제를 해결하기 위해 제이쿼리, 백본, 녹아웃, 앵귤러 등이 나왔지만 효율적인 해결책이 아니었음.

해당 라이브러리 혹은 프레임워크들을 안써봐서 잘 모르지만, 예시로 작성된 코드만 봐도 개발하기 싫게 생겼다. 일단 다들 보일러플레이트가 너무 많고 코드 작성을 위한 러닝커브가 너무 높아보인다. 즉 복잡도가 너무 높음. 또 지금은 너무 당연하게 생각하는 단방향 데이터 바인딩이 아닌점도 헷갈린다. -> 이렇게 되면 데이터 추적이 너무 어렵지 않을까?

> 또 왜 이렇게 `$` 달러 사인을 그렇게 썼을까 하는 의문이 생김.

리액트가 없었던 시절에 내가 프론트엔드 개발을 접했다면, 내가 좋아했을까 하는 생각이 들었다.

## 책에서 핵심 가치를 몇 가지 소개해준다.

1. 선언형

리액트가 중요한 게 아니라 내가 명령형 프로그래밍 보단 선언형 프로그래밍을 더 선호해서 리액트가 좋은 것일 수도 있겠다.

리액트는 개발자가 "해줘"라고 하면 알아서 다해준다. 알아서 해줘서 더 좋을지도..?

선언형은 "무엇"이 중요한 반면 명령형은 "어떻게"가 중요하다.

네비게이션에서 길 찾는 것이 선언형의 대표적인 예이고
레시피대로 음식을 만드는 것이 명령형의 예라고 할 수 있다.

2. 가상돔

리액트는 실제돔을 건드리는 것이 아닌 좀 더 가벼운 가상돔을 사용해 변경된 부분만을 반영한다.
아마 우리가 성능적 관점에서 리액트를 사용하는 가장 큰 이유 아닐까. 실제로 변경이 필요하지 않은 돔 영역의 계산은 안해도 되니 매우 효율적이다.

이렇게 현재 가상돔과 이전 가상돔을 비교 수행을 재조정이라고 한다.
그 후 최소한의 업데이트를 한 후 실제 돔에 반영한다. -> 어떻게 하는 거임?

3. 컴포넌트 모델

여러 곳에서 사용되는 UI를 컴포넌트로 만들어 재사용할 수 있음.
동일한 UI가 서비스 내 30곳에 쓰이면 컴포넌트 1개로 다 대응할 수 있고 그 컴포넌트를 감싸 또다른 컴포넌트로 합성할 수 있다.

4. 불변 상태

각 상태는 독립된 스냅샷으로 관리됨 -> 특정 시점의 특정 상태를 보장함.
이를 통해 추적이 용이해짐.

불변성이라는게 새 참조로 교체하는 거 겠지?
즉 기존 객체나 배열을 직접 바꾸지 않고 새 객체를 만들어 참조를 교체한다. 그래야 리액트가 그걸 리렌더링의 트리거로 알 수 있다.

근데 왜 예측 가능성을 높이지? -> 아 객체를 직접 수정해도 변경된 것이 반영이 안되어서 그런가?

> 이런거 보면 도대체 객체를 직접 수정할 수 있는 valtio를 갖다 썼는지 진짜 이해가 안가네

그럼 이전 상태값 즉 이전 참조는 어디로감? -> gc로?
메모리 비효율은 불변이 아니라, 이전 참조를 계속 잡고있는 코드들이 문제인가?

## 플럭스

플럭스는 단방향 데이터 흐름.

액션 -> 디스패처 -> 스토어 -> 뷰 / 뷰 -> 액션
위와 같이 흐른다.

1. 액션
   새로운 데이터와 함께 어떤 액션을 취할지 포함하는 객체임

2. 디스패처
   실제 액션을 받아서 스토어로 보내는 역할을 함

3. 스토어
   앱의 상태와 로직을 관리하는 저장소
   스토어의 상태가 변경되면 뷰를 변경함
   중앙 집중식

4. 뷰
   화면에 보이는 상태
   스토어에 의존한다. 스토어의 상태가 변경되면 뷰도 변경됨.
   근데 데이터 변경을 위한 작업을 해줄 필요 없음 자동으로 됨.

장점

- 단일 진실 공급원
- 테스트 가능성
  - 각 역할이 분리되어 있음
- 관심사 분리

## 그래서 리액트 왜 씀?

- 화면 즉 인터페이스를 선언적으로 관리할 수 있음.
- 단순하게 반응성이 높은 앱을 만들 수 있음
- 메타에서, 인스타그램이 쓰는데 너네 안쓸래?
- 생태계가 말도 안됨
- 플랫폼 제한이 없음 -> 단일 코드베이스로 다 커버 가능

## 내가 리액트 쓰는 이유

- 선언형
  - 해줘
- 컴포넌트 기반
- 방대한 생태계
- 명확한 멘탈모델 (사용자의 인터페이스를 위한 라이브러리)
- 효율적인 렌더링 구조
  - 돔을 직접 조작하지 않아도 되는 점
- 이제는 제법 익숙해져서 편하다고 느껴짐 ㅋㅋ
- 댄 아브라모브 좋아해서
