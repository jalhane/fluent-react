# 2.1 자바스크립트 XML?

자바스크립트 코드 내에서 HTML과 유사한 코드를 작성할 수 있게 하는 자바스크립트용 구문 확장자.

```tsx
const MyComponent = () => {
  <section id="list">
    <h1>내가 만든 목록!</h1>
    <p>대단하지 않나요? 멋진 것들이 모여 있습니다!</p>
    <ul>
      {amazingThis.map((item) => (
        <li key={item.id}>{item.label}</li>
      ))}
    </ul>
  </section>;
};
```

```tsx
const MyComponent = () => {
  React.createElement("section", { id: "list" }, [
    React.createElement("h1", {}, "내가 만든 목록!"),
    React.createElement("p", {}, "대단하지 않나요? 멋진 것들이 모여 있습니다!"),
    React.createElement(
      "ul",
      {},
      amazingThis.map((item) =>
        React.createElement("li", { key: item.id }, item.label)
      )
    ),
  ]);
};
```

# 2.2 JSX의 장점

- 쉽다
- 향상된 보안 : `<` or`>` 같은 문자가 HTML에 포함되었다면 새로운 엘리먼트를 생성할 수도 있음 ⇒ JSX 컴파일할 때 `&lt;` `&gt;` 로 변환해줌. 이게 Sanitization.
- 강력한 타이핑
- 컴포넌트 기반 아키텍처
- 여러 라이브러리, 프레임워크에서도 지원

# 2.3 JSX의 약점

- 러닝 커브: 이건 동의 못함
- 컴파일러 필요
- 관심사 혼합: 애매한데 코드를 잘 짜면 어느정도 해소할 수 있지 않을까? 아니면 JSX 자체가 자바스크립트인데 HTML처럼 보이니까 이 자체가 관심사 혼합이라고 하는건가
- 자바스크립트 호환성 부족

# 2.4 내부 동작

컴파일러는 **토큰화**, **구문분석**, **코드생성** 3단계를 거침

1. 토큰화

   - 문자열을 의미 있는 토큰으로 분해하는 것
   - 렉서는 소스 코드를 처음부터 훑으면서 의미 있는 토큰들을 찾아낸다.(공백, 주석 같은 것을 무시)
   - `int result = 10 * 2;`

   | 코드 조각 (Lexeme) | 토큰의 종류 (Token Type)      | 설명                     |
   | ------------------ | ----------------------------- | ------------------------ |
   | `int`              | `KEYWORD`                     | 데이터를 정의하는 예약어 |
   | `result`           | `IDENTIFIER`                  | 변수 이름                |
   | `=`                | `OPERATOR`                    | 할당 연산자              |
   | `10`               | `LITERAL` (or `NUMBER`)       | 숫자 값 자체             |
   | `*`                | `OPERATOR`                    | 곱셈 연산자              |
   | `2`                | `LITERAL` (or `NUMBER`)       | 숫자 값 자체             |
   | `;`                | `SEPARATOR` (or `PUNCTUATOR`) | 문장의 끝을 알리는 기호  |

2. 구문 분석
   - 토큰을 가져와 구문 트리로 변환하는 과정. JSON 객체가 된다..
3. 코드 생성
   - 컴파일러가 추상 구문 트리에서 기계어를 생성하는 과정
   - 생성된 기계어는 자바스크립트 엔진에 의해 실행된다.

## JSX로 자바스크립트 구문 확장하기

JSX는 바닐라 자바스크립트가 아님. 즉 자바스크립트 엔진이 이해못함. 그래서 JSX만을 위한 새로운 엔진을 만든다? 이거 거의 불가능.

- 바닐라 JS: 구문 분석 → 구문 트리에서 코드 생성(기계어 생성)
- JSX: 구문 분석 → 구문 트리에서 바닐라 JS를 생성하는 트랜스파일 → JS 엔진

## JSX 프라그마

컴파일러에 특정 작업을 수행하도록 지시하는 지시어

모두 `<` 로 시작한다. `React.creatElement` 대신 사용하는 별칭

```jsx
<MyComponent prop="속성값">콘텐츠</MyComponent>
```

```jsx
React.createElement(MyComponent, { prop: "속성값" }, "콘텐츠");
```

JSX에서 `<Component>` 가 아닌 `<h1>`과 같이 HTML 태그를 사용할 때도 프라그마인가?
