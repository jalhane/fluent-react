# JSX

JSX는 JavaScript extension을 뜻하고 JavaScript XML이라고도 한다.

## JXML

JSX는 자바스크립트 내에서 HTML과 유사한 코드를 작성할 수 있게 해주는 확장 구문
리액트 뿐 아니라 웹 개발 전방위 적으로 사용됨

JSX -> 컴파일 -> 일반 JS 변환 과정 필요

JSX 없이 앱을 만들 수 있지만, 코드가 너무 복잡해짐
`createElement` 또는 최신 `jsx` 문법을 사용해야함
-> 어느 문법을 사용하든 JSX 쓰는 게 편함

- 장점

  - 가독성
  - 보안
    - <,>를 HTML 엔티티로 변환함 -> sanitization
  - 타입 지원
  - CDD
  - 광범위 사용

- 약점
  - 러닝 커브?
  - 전용 도구 필요
    - 컴파일러
  - 관심사 혼합
    - 자바스크립트 코드에 HTML, CSS가 다 존재해서 그런듯
    - 근데 각 개별 파일에 관리하면 더 복잡한 것 같음..
  - 완벽하게 자바스크립트 호환이 안됨

JSX는 그래도 유연한 도구임 -> 나도 그렇게 생각
반복, 계산, 인라인 실행 같은 기능을 사용할 수 있게 하면서 리액트 코드를 더 간단하게 작성할 수 있게 해줌

## 컴파일러

### 토큰화

문자열 -> 의미 단위로 토큰 분해
토크나이저가 상태를 갖고 있다면? 렉서라고 부름
렉싱은 상태를 가지는 토큰화?

> 토크나이저는 문자열을 토큰으로 나누는 도구
> 렉서는 문맥에 따라 다르게 구문 분석을 해주는 도구

### 구문분석

토큰 -> 구문 트리화
JSON 형태

### 코드생성

컴파일러 -> AST 기계어 생성
기계어가 자바스크립트 엔진에 의해 실행됨

런타임은 웹은 보통 크로미움 / 서버는 v8

### JSX 구문 확장

JSX를 위한 엔진을 만드는 건 사실상 불가능
그래서 구문 트리를 자바스크립트 엔진이 이해할 수 있는 바닐라로 만듦
이때, 바벨, 타입스크립트, 트레이서, SWC 같은 도구가 필요함

이래서 빌드가 필요하다. 실제 새로운 엔진을 만들 수 없으니 기존 엔진이 이해할 수 있게 JSX를 트랜스파일 해야하는 것

> 토큰 -> 구문 분석 -> 실행으로 불가능함

## JSX 프라그마

JSX 프라그마는 `<`로 시작함 -> 컴파일러는 함수 호출로 변환

`createElement` 또는 최신 `jsx`가 기본값으로 정해짐

```js
function pragma(tag, props, ...children) // 함수 시그니처
```

즉 태그, 프랍, 자식을 파라미터로 받는 함수다.
JSX `<`는 그냥 createElement 대체

## 표현식

JSX는 트리 내부에서 코드를 실행할 수 있게 해줌
값으로 판별되는 것을 `{}`에 사용할 수 있음

값을 반환하지 않는 문은 실행이 불가능함

> 표현식은 평가되고 문장은 평가되지 않는다.
